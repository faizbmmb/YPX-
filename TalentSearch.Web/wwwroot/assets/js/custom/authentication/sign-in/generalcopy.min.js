"use strict";var KTSigninGeneral=function(){var t,n,i;return{init:function(){Inputmask({mask:"[*{1,250}]",onBeforePaste:function(n){return n.toUpperCase()},definitions:{"*":{cardinality:1,casing:"upper"}}}).mask("#Fullname");Inputmask({mask:"999999-99-9999"}).mask("#IdentityNo");Inputmask({mask:"+60[9{1,2}]-[9{1,8}]"}).mask("#PhoneNo");Inputmask({mask:"*{1,20}[.*{1,20}][.*{1,20}][.*{1,20}][@{1,1}]*{1,20}[.*{2,6}][.*{1,2}]",greedy:!1,onBeforePaste:function(n){return(n=n.toLowerCase()).replace("mailto:","")},definitions:{"*":{validator:'[0-9A-Za-z!#$%&"*+/=?^_`{|}~-]',cardinality:1,casing:"lower"}}}).mask("#Email");t=document.querySelector("#kt_sign_in_form");n=document.querySelector("#kt_sign_in_submit");i=FormValidation.formValidation(t,{fields:{Email:{validators:{regexp:{regexp:/^[^\s@]+@[^\s@]+\.[^\s@]+$/,message:"The value is not a valid email address"},notEmpty:{message:"Email address is required"}}},Fullname:{validators:{notEmpty:{message:"The full name is required"}}},IdentityNo:{validators:{notEmpty:{message:"The identification no is required"}}},PhoneNo:{validators:{notEmpty:{message:"The phone is required"}}}},plugins:{trigger:new FormValidation.plugins.Trigger,bootstrap:new FormValidation.plugins.Bootstrap5({rowSelector:".fv-row",eleInvalidClass:"",eleValidClass:""})}}),function(n){try{return new URL(n),!0}catch(n){return!1}}(n.closest("form").getAttribute("action"))?n.addEventListener("click",function(r){r.preventDefault();i.validate().then(function(i){"Valid"==i?(n.setAttribute("data-kt-indicator","on"),n.disabled=!0,axios.post(n.closest("form").getAttribute("action"),new FormData(t)).then(function(n){if(n){t.reset();Swal.fire({text:"You have successfully logged in!",icon:"success",buttonsStyling:!1,confirmButtonText:"Ok, got it!",customClass:{confirmButton:"btn btn-primary"}});const n=t.getAttribute("data-kt-redirect-url");n&&(location.href=n)}else Swal.fire({text:"Sorry, the email or password is incorrect, please try again.",icon:"error",buttonsStyling:!1,confirmButtonText:"Ok, got it!",customClass:{confirmButton:"btn btn-primary"}})}).catch(function(){Swal.fire({text:"Sorry, looks like there are some errors detected, please try again.",icon:"error",buttonsStyling:!1,confirmButtonText:"Ok, got it!",customClass:{confirmButton:"btn btn-primary"}})}).then(()=>{n.removeAttribute("data-kt-indicator"),n.disabled=!1})):Swal.fire({text:"Sorry, looks like there are some errors detected, please try again.",icon:"error",buttonsStyling:!1,confirmButtonText:"Ok, got it!",customClass:{confirmButton:"btn btn-primary"}})})}):n.addEventListener("click",function(r){r.preventDefault();i.validate().then(function(i){"Valid"==i?(n.setAttribute("data-kt-indicator","on"),n.disabled=!0,setTimeout(function(){n.removeAttribute("data-kt-indicator");n.disabled=!1;Swal.fire({text:"You have successfully logged in!",icon:"success",buttonsStyling:!1,confirmButtonText:"Ok, got it!",customClass:{confirmButton:"btn btn-primary"}}).then(function(n){if(n.isConfirmed){t.querySelector('[name="email"]').value="";t.querySelector('[name="password"]').value="";var i=t.getAttribute("data-kt-redirect-url");i&&(location.href=i)}});n.disabled=!0;$("#kt_sign_in_form").trigger("submit")},2e3)):Swal.fire({text:"Sorry, looks like there are some errors detected, please try again.",icon:"error",buttonsStyling:!1,confirmButtonText:"Ok, got it!",customClass:{confirmButton:"btn btn-primary"}})})})}}}();KTUtil.onDOMContentLoaded(function(){KTSigninGeneral.init()});